/* Contenedor y tipografía */
:root { --gap:16px; }
* { box-sizing: border-box; }
html, body { margin:0; }
body {
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.25;
  background:#121212;
  color:#EEEEEE;
}
.container {
  max-width: 680px;
  margin: 0 auto;
  padding: 20px;
  background-color: #1E1E1E;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
h1,h2 {
  margin: 0 0 20px;     /* más aire en títulos */
  color: #EEEEEE;
}
p.instructions, ol.instructions { font-size: 1.25em; line-height: 1.6; color: #EEEEEE; }

/* Texto: más separación y legibilidad */
p, ol, ul {
  margin: 0 0 14px;      /* aire entre párrafos/listas */
  line-height: 1.6;      /* líneas más cómodas */
}

/* Imagen responsive, que no desborde */
.image-box { margin: 16px 0 24px; }
.image-box img {
  display:block;
  width:100%;
  max-height: 45vh;
  object-fit: contain;
  border-radius: 12px;
  background:#f4f4f4;
  box-shadow: 0 2px 18px rgba(0,0,0,.12);
}

/* Bloques de pregunta */
.question { margin: 24px 0; }                  /* más aire entre preguntas */
.question > label { display:block; margin-bottom:12px; font-weight:600; color: #EEEEEE; }

/* ---------- Scale: 3 columnas; si la última fila tiene 2, van 50/50 ---------- */
.scale {
  --gap: 12px;
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap);
  align-items: stretch;
}

/* Evitar saltos raros en "3 = Ambiguo" etc. dentro de instrucciones */
.instructions span,
.instructions strong {
  white-space: nowrap;
}


/* Base: tres columnas (calculadas con gap para que cierre justo) */
.scale-option {
  box-sizing: border-box;
  flex: 0 0 calc((100% - 2*var(--gap)) / 3);
  max-width: calc((100% - 2*var(--gap)) / 3);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-width: 0;
  background-color: #1E1E1E;
  color: #EEEEEE;
  border: 1px solid rgba(238,238,238,0.12);
  border-radius: 8px;
  padding: 10px;
  margin: 0; /* spacing via gap on .scale */
  text-align: center;
  cursor: pointer;
  transition: background-color 160ms ease, border-color 160ms ease, transform 120ms ease;
  position: relative; /* para el input invisible */
}

/* Caso “3+2”: si la última fila queda con 2, que ocupen 50% cada una */
.scale-option:nth-last-child(2):nth-child(3n+1),
.scale-option:last-child:nth-child(3n+2) {
  flex-basis: calc((100% - var(--gap)) / 2);
  max-width:  calc((100% - var(--gap)) / 2);
}

/* Hide native radio visually but keep it accessible */
.scale-option input[type="radio"] {
  position: absolute;
  opacity: 0;
  width: 1px; height: 1px;
  margin: -1px; padding: 0; border: 0;
  clip: rect(0 0 0 0);
  white-space: nowrap;
}

/* Category label area styles */
.category-label {
  width: 100%;
  padding: 10px 8px;     /* un poco más de padding para “aire” */
  border-radius: 6px;
  line-height: 1.2;
  word-wrap: break-word;
  white-space: normal;
}

/* Hover / focus */
.scale-option:hover,
.scale-option:focus-within {
  transform: translateY(-2px);
  border-color: rgba(0,255,153,0.45);
}

/* Selected state */
.scale-option input[type="radio"]:checked + .category-label {
  border: 2px solid #00ff99;
  background: rgba(0,255,153,0.08);
  box-shadow: inset 0 6px 18px rgba(0,0,0,0.18);
}

/* Leyenda con extremos y centro */
.scale-legend {
  display:flex;
  justify-content: space-between;
  align-items:center;
  font-size: 0.92em;
  margin: 6px 2px 0;
  color: #EEEEEE;
}
.scale-legend span.center { text-align:center; flex:0 0 auto; }
.scale-legend span { white-space: nowrap; }

/* ---------- Botones ---------- */
.btn{
  display:inline-block;
  width: 100%;               /* full width en móvil */
  padding: 12px 16px;
  border: 1px solid #EEEEEE;
  border-radius: 12px;
  background:#111; color:#fff; font-weight:600;
  text-align: center;
  cursor: pointer;
  text-decoration: none;
  transition: background-color 0.3s, color 0.3s;
}
.btn:hover { background-color: #EEEEEE; color: #121212; }

/* Espacio vertical claro entre botones apilados */
.btn + .btn {
  margin-top: 14px;
  margin-left: 0;
}

/* Contenedor de acciones: apila y separa los botones */
.actions {
  display: flex;
  flex-direction: column;
  gap: 14px;         /* espacio vertical entre Enviar y Fin */
  margin-top: 12px;  /* aire con respecto a la última pregunta */
}
.actions .btn { width: 100%; }

/* ---------- Pastillas y links (tema oscuro) ---------- */
p strong,
li strong,
div strong {
  display: inline-block;
  background: #25D366; /* verde claro */
  color: #000;         /* alto contraste */
  padding: 6px 10px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 0.95em;
  line-height: 1;
  margin: 10px 0 14px; /* más aire arriba/abajo */
  box-shadow: inset 0 -6px 12px rgba(0,0,0,0.06);
}
strong.block-pill { display: inline-block; margin-top: 8px; }

/* Link color y hover */
a {
  color: #00ff99;
  text-decoration: underline;
  transition: background-color 150ms ease, color 150ms ease, text-decoration 150ms;
  border-radius: 6px;
  padding: 2px 4px;
}
a:hover,
a:focus {
  color: #1aa34a; /* verde más oscuro */
  text-decoration: none;
  background-color: rgba(37,211,102,0.12);
  outline: none;
}
/* Focus accesible */
a:focus { box-shadow: 0 0 0 3px rgba(0, 255, 153, 0.12); }

/* Contraste del contenedor principal */
.container { background: rgba(255,255,255,0.03); }

/* ---------- Ajustes móviles ---------- */
@media (max-width: 480px){
  .container{ padding: 12px; }
  .image-box img{ max-height: 38vh; }
  .scale{ gap:10px; }
  .scale-option input[type="radio"]{ width:26px; height:26px; }
  .scale-legend{ font-size:0.85em; }
}

/* Pantallas MUY angostas: 2 por fila para evitar texto aplastado */
@media (max-width: 360px){
  .scale-option{
    flex-basis: calc((100% - var(--gap)) / 2);
    max-width:  calc((100% - var(--gap)) / 2);
    padding: 8px;
  }
}

/* En 768px podés ajustar padding, pero NO tocar .scale ni .scale-option */
@media (max-width: 768px) {
  .container { padding: 15px; }
  .btn { width: 100%; padding: 12px; }
}

/* Extras legacy que tenías: mantengo lo útil y evito duplicados */
.options { display:flex; gap:24px; margin-top:8px; }
label { cursor:pointer; }
table { width:100%; border-collapse: collapse; margin-top: 16px; }
th, td { text-align:left; padding: 8px; border-bottom: 1px solid #eee; }
th { background:#fafafa; }
.progress { margin-top: 16px; }
